<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Trading Simulator - Complete Integration</title>

    <!-- Game Data -->
    <script src="data/january.js"></script>
    <script src="data/february.js"></script>
    <script src="data/march.js"></script>
    <script src="data/april.js"></script>
    <script src="data/may.js"></script>
    <script src="data/june.js"></script>

    <!-- CSS Stylesheets -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/panels.css">
    <link rel="stylesheet" href="css/markets-widget.css">
    <link rel="stylesheet" href="css/trade-panel.css">
    <link rel="stylesheet" href="css/positions-widget.css">

    <!-- Mapbox GL JS CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">

    <!-- Maritime Map CSS -->
    <link rel="stylesheet" href="css/maritime-map.css">

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Mapbox GL JS Library -->
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

    <!-- Initialize Application -->
    <script type="module" src="js/init.js"></script>
</head>
<body>
    <!-- Fixed Header Bar -->
    <div class="header-bar">
        <!-- 1. Month/Period -->
        <div class="header-metric">
            <div class="header-metric-label">Period</div>
            <div class="header-metric-value" id="headerMonth">JAN - Early (1/12)</div>
        </div>

        <!-- 2. Timer (Compact) -->
        <div class="header-metric header-metric-timer">
            <div class="header-metric-label">Timer</div>
            <div class="header-metric-value" id="periodTimer">10:00</div>
        </div>

        <!-- 3. Practice Funds -->
        <div class="header-metric">
            <div class="header-metric-label">Funds</div>
            <div class="header-metric-value" id="headerPracticeFunds">$200,000</div>
        </div>

        <!-- 4. Total P&L -->
        <div class="header-metric">
            <div class="header-metric-label">P&L</div>
            <div class="header-metric-value" id="headerTotalPL">$0</div>
        </div>

        <!-- 5. Buying Power -->
        <div class="header-metric">
            <div class="header-metric-label">Buying Power</div>
            <div class="header-metric-value" id="headerBuyingPower">$400,000</div>
        </div>

        <!-- 6. Physical Inventory -->
        <div class="header-metric">
            <div class="header-metric-label">Inventory</div>
            <div class="header-metric-value" id="headerPhysicalMT">0 MT</div>
        </div>

        <!-- Expandable Secondary Metrics (LOC, Interest, etc.) -->
        <div id="keyMetricsExpanded" style="display: none; position: absolute; top: 65px; left: 0; right: 0; background: var(--bg-header); padding: 10px 20px; border-top: 1px solid rgba(255,255,255,0.1); gap: 30px; display: flex; z-index: 199;">
            <div class="header-metric">
                <div class="header-metric-label">LOC Used</div>
                <div class="header-metric-value" id="headerLOC">$0 / $200K</div>
            </div>
            <div class="header-metric">
                <div class="header-metric-label">Interest Due</div>
                <div class="header-metric-value" id="headerLOCInterest">$0</div>
            </div>
            <div class="header-metric">
                <div class="header-metric-label">Interest Rate</div>
                <div class="header-metric-value" id="headerInterestRate">5.33%</div>
            </div>
        </div>

        <!-- 7. Toggle Button and Controls (right side) -->
        <button class="key-metrics-toggle" id="keyMetricsToggle" title="Show/Hide Secondary Metrics">üìä More ‚ñº</button>
        <button class="timer-control-btn" id="timerToggleBtn" onclick="window.GAME_STATE.toggleTimer()" title="Pause/Resume Timer">‚è∏Ô∏è</button>
        <button class="next-turn-btn" id="nextTurnBtn">NEXT ‚ñ∂</button>
        <button class="theme-toggle" id="themeToggleBtn">‚òÄÔ∏è</button>
    </div>

    <div class="container">
        <!-- Collapsible Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-toggle" id="sidebarToggle">‚óÄ</div>
            <div class="sidebar-content">
                <h3>Widgets</h3>
                <ul class="widget-list">
                    <li class="widget-item" draggable="true" data-widget="Markets">Markets</li>
                    <li class="widget-item" draggable="true" data-widget="Positions">Positions</li>
                    <li class="widget-item" draggable="true" data-widget="Calendar">Calendar</li>
                    <li class="widget-item" draggable="true" data-widget="Futures">Futures</li>
                    <li class="widget-item" draggable="true" data-widget="News">News</li>
                    <li class="widget-item" draggable="true" data-widget="Active Map">Active Map</li>
                </ul>
            </div>
        </div>

        <!-- Workspace (3-Panel Area) -->
        <div class="workspace" id="workspace">
            <!-- Panel A -->
            <div class="panel-zone" id="panelA" data-panel="A">
                <div class="panel-container">
                    <div class="panel-header">
                        <div class="panel-tab active" data-widget="Positions" data-source-panel="A">
                            <span class="panel-tab-name">Positions</span>
                            <span class="close-btn" data-close-panel="A" data-close-widget="Positions">√ó</span>
                        </div>
                        <div class="panel-tab" data-widget="Futures" data-source-panel="A">
                            <span class="panel-tab-name">Futures</span>
                            <span class="close-btn" data-close-panel="A" data-close-widget="Futures">√ó</span>
                        </div>
                    </div>
                    <div class="panel-content">
                        <!-- Widget content will be dynamically inserted here -->
                    </div>
                </div>
            </div>

            <!-- Divider A-B -->
            <div class="panel-divider" data-divider="A-B"></div>

            <!-- Panel B (Markets Pre-loaded) -->
            <div class="panel-zone" id="panelB" data-panel="B">
                <div class="panel-container">
                    <div class="panel-header">
                        <div class="panel-tab active" data-widget="Markets" data-source-panel="B">
                            <span class="panel-tab-name">Markets</span>
                            <span class="close-btn" data-close-panel="B" data-close-widget="Markets">√ó</span>
                        </div>
                    </div>
                    <div class="panel-content">
                        <!-- Widget content will be dynamically inserted here -->
                    </div>
                </div>
            </div>

            <!-- Divider B-C -->
            <div class="panel-divider" data-divider="B-C" style="display: none;"></div>

            <!-- Panel C -->
            <div class="panel-zone empty" id="panelC" data-panel="C"></div>
        </div>
    </div>

    <!-- Drag Preview Tooltip -->
    <div class="drag-preview" id="dragPreview"></div>

    <!-- Shared Widget Contents (Hidden until activated) -->
    <div id="sharedWidgets" style="display: none;">

        <!-- Markets Widget Content -->
        <div class="widget-content" data-widget="Markets">
            <div class="markets-widget-content">
                <!-- SUPPLIERS TABLE -->
                <div class="section-title">üîµ This Month's Supplier</div>
                <table class="markets-table">
                    <thead>
                        <tr>
                            <th>SELLER</th>
                            <th>AVAILABLE</th>
                            <th>PRICING & PREMIUM</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="suppliersTableBody"></tbody>
                </table>

                <!-- BUYERS TABLE -->
                <div class="section-title">üü¢ This Month's Buyer</div>
                <table class="markets-table">
                    <thead>
                        <tr>
                            <th>BUYER</th>
                            <th>DEMAND</th>
                            <th>PRICING & PREMIUM</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="buyersTableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- Futures Widget Content -->
        <div class="widget-content" data-widget="Futures">
            <div class="futures-widget-content">

                <!-- Help Icon & Tooltip -->
                <div class="help-icon" onclick="FuturesWidget.toggleHelp()">‚ùì</div>
                <div class="futures-help-tooltip" id="futuresHelpTooltip" style="display: none;">
                    <div class="help-tooltip-header">
                        <strong>üéì FUTURES TRADING GUIDE</strong>
                        <button class="help-close-btn" onclick="FuturesWidget.toggleHelp()">√ó</button>
                    </div>
                    <div class="help-tooltip-content">
                        <p><strong>What are Futures Contracts?</strong></p>
                        <p>Futures allow you to lock in prices for future copper delivery without buying physical metal. You can profit from price movements or hedge your physical positions.</p>

                        <p><strong>Contract Specifications:</strong></p>
                        <ul>
                            <li><strong>LME:</strong> 25 MT per contract, $9,000 initial margin</li>
                            <li><strong>COMEX:</strong> 11.34 MT per contract (25,000 lbs), $9,000 initial margin</li>
                        </ul>

                        <p><strong>How to Trade:</strong></p>
                        <ul>
                            <li><strong>LONG:</strong> Buy contracts if you expect prices to rise</li>
                            <li><strong>SHORT:</strong> Sell contracts if you expect prices to fall</li>
                        </ul>

                        <p><strong>Fees & Margin:</strong></p>
                        <ul>
                            <li>Opening fee: $25 per contract</li>
                            <li>Closing fee: $25 per contract</li>
                            <li>Initial margin: $9,000 per contract (posted from Practice Funds)</li>
                            <li>Margin limit: $100,000 total</li>
                        </ul>

                        <p><strong>Mark-to-Market (MTM):</strong></p>
                        <p>Each month, positions are revalued at current prices. If margin balance falls below initial margin, you'll receive a margin call requiring a top-up from Practice Funds or face force liquidation.</p>

                        <p><strong>Offset Closing:</strong></p>
                        <p>Opening an opposite position (e.g., SHORT when you have LONG) automatically closes your existing position(s) using FIFO (First In First Out), settling P&L immediately.</p>

                        <p><strong>Expiry:</strong></p>
                        <ul>
                            <li>M+1 contracts expire in 1 turn</li>
                            <li>M+3 contracts expire in 3 turns</li>
                            <li>M+12 contracts expire in 12 turns</li>
                        </ul>
                        <p>At expiry, positions auto-close with final P&L settlement.</p>
                    </div>
                </div>

                <!-- Summary Stats -->
                <div class="match-stats" style="margin-bottom: 20px;">
                    <div class="match-stat">
                        <div class="match-stat-label">Unrealized P&L</div>
                        <div class="match-stat-value" id="futuresUnrealizedPL">$0</div>
                    </div>
                    <div class="match-stat">
                        <div class="match-stat-label">Margin Used</div>
                        <div class="match-stat-value" id="futuresMarginUsed">$0 / $100K</div>
                    </div>
                </div>

                <!-- Toggle Buttons -->
                <div class="futures-toggle-buttons" style="display: flex; gap: 10px; margin-bottom: 20px;">
                    <button class="futures-toggle-btn active" data-view="LME" onclick="FuturesWidget.setView('LME')">
                        LME
                    </button>
                    <button class="futures-toggle-btn" data-view="COMEX" onclick="FuturesWidget.setView('COMEX')">
                        COMEX
                    </button>
                    <button class="futures-toggle-btn" data-view="BOTH" onclick="FuturesWidget.setView('BOTH')">
                        BOTH
                    </button>
                </div>

                <!-- Futures Term Structure Graph -->
                <div class="futures-graph-container" style="background: rgba(30, 30, 30, 0.5); border-radius: 8px; padding: 20px; margin-bottom: 30px;">
                    <div class="section-title" style="margin-bottom: 15px;">üìà Futures Term Structure</div>
                    <canvas id="futuresChart" style="max-height: 300px;"></canvas>
                </div>

                <!-- Contract Specifications Info (Collapsible) -->
                <div style="margin-bottom: 20px;">
                    <div class="section-title" style="font-weight: 600; margin-bottom: 10px; color: #3b82f6; padding: 10px; background: rgba(59, 130, 246, 0.1); border-left: 3px solid #3b82f6;">
                        üìä Contract Specifications
                    </div>
                    <div class="info-box" style="background: rgba(59, 130, 246, 0.05); border-left: 3px solid #3b82f6; padding: 15px; margin-bottom: 0;">
                        <div style="font-size: 12px; line-height: 1.8; color: #e0e0e0;">
                            <strong>LME:</strong> 25 MT per contract<br>
                            <strong>COMEX:</strong> 11.34 MT per contract (25,000 lbs)<br>
                            <em style="color: #888;">Note: Margin = $9,000 per contract | Fees = $25 open + $25 close</em>
                        </div>
                    </div>
                </div>

                <!-- Available Contracts -->
                <div class="section-title">üìä Available Contracts</div>
                <div id="futuresAvailableTable"></div>

                <!-- Open Positions -->
                <div class="section-title" style="margin-top: 30px;">üìà Open Positions</div>
                <div id="futuresPositionsTable"></div>

                <!-- Margin Breakdown -->
                <div class="section-title" style="margin-top: 30px;">üí∞ Margin Breakdown</div>
                <div id="futuresMarginBreakdown"></div>

            </div>
        </div>

    </div>

    <!-- Buy Panel (500x500, Draggable, No Overlay) -->
    <div class="trade-panel" id="buyPanel">
        <div class="trade-panel-header" id="buyPanelHeader">
            <span class="trade-panel-title">Buy Copper</span>
            <button class="trade-panel-close" id="buyPanelClose" onclick="window.TradePanel.close()">√ó</button>
        </div>
        <div class="trade-panel-body">
            <div class="info-box">
                <div class="info-row">
                    <span class="info-label">SUPPLIER</span>
                    <span class="info-value" id="buySupplier">CALLAO</span>
                </div>
                <div class="info-row">
                    <span class="info-label">PORT</span>
                    <span class="info-value" id="buyPort">Callao, Peru</span>
                </div>
                <div class="info-row">
                    <span class="info-label">PRICING BASIS</span>
                    <span class="info-value" id="buyBasis">LME M+1</span>
                </div>
                <div class="info-row">
                    <span class="info-label">SUPPLIER PREMIUM</span>
                    <span class="info-value" id="buyPremium">+$15/MT</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Tonnage (MT)</label>
                <input type="number" class="form-input" id="buyTonnage" min="5" value="5">
                <div style="font-size: 11px; color: #888; margin-top: 6px;" id="buyRange">Range: 5 - 17 MT</div>
            </div>

            <div class="form-group" id="buyExchangeGroup">
                <label class="form-label">Exchange</label>
                <div class="radio-group">
                    <label class="radio-option selected" id="buyLMEOption" onclick="window.TradePanel.selectExchange('LME', event)">
                        <input type="radio" name="exchange" value="LME" checked>
                        <div class="radio-option-label">LME M+1</div>
                    </label>
                    <label class="radio-option" id="buyCOMEXOption" onclick="window.TradePanel.selectExchange('COMEX', event)">
                        <input type="radio" name="exchange" value="COMEX">
                        <div class="radio-option-label">COMEX M+1</div>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Destination Port</label>
                <select class="form-select" id="buyDestination">
                    <option value="">Select destination...</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">Shipping Terms</label>
                <div class="radio-group">
                    <label class="radio-option selected" id="fobOption" onclick="window.TradePanel.selectShipping('FOB')">
                        <input type="radio" name="shippingTerms" value="FOB" checked>
                        <div class="radio-option-label">FOB</div>
                        <div class="radio-option-value" id="fobPriceDisplay">$9039/MT</div>
                    </label>
                    <label class="radio-option" id="cifOption" onclick="window.TradePanel.selectShipping('CIF')">
                        <input type="radio" name="shippingTerms" value="CIF">
                        <div class="radio-option-label">CIF</div>
                        <div class="radio-option-value" id="cifPriceDisplay">$9070/MT</div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="calc-title">Cost Breakdown (Estimated)</div>
                <div class="calc-row">
                    <span class="calc-label">Base Price (Spot):</span>
                    <span class="calc-value" id="buyBasePrice">$8960/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Supplier Premium:</span>
                    <span class="calc-value" id="buySupplierPremium">+$15/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Freight Cost:</span>
                    <span class="calc-value" id="buyFreight">$64/MT (FOB)</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Price/MT:</span>
                    <span class="calc-value" id="buyPricePerMT">$9039/MT</span>
                </div>
                <div class="calc-row total-row">
                    <span class="calc-label">Total Cost:</span>
                    <span class="calc-value" id="buyTotalCost">$45,195</span>
                </div>
                <div class="warning-box">
                    ‚ö†Ô∏è <span id="buyQPWarning">QP settlement in March based on February average</span>
                </div>
            </div>

            <button class="execute-btn" id="executeBuyBtn" onclick="window.TradePanel.executeBuy()">PURCHASE COPPER</button>
        </div>
    </div>

    <!-- Sell Panel (500x500, Draggable, No Overlay) -->
    <div class="trade-panel" id="sellPanel">
        <div class="trade-panel-header sell" id="sellPanelHeader">
            <span class="trade-panel-title">Sell Copper</span>
            <button class="trade-panel-close" id="sellPanelClose" onclick="window.TradePanel.close()">√ó</button>
        </div>
        <div class="trade-panel-body">
            <div class="info-box">
                <div class="info-row">
                    <span class="info-label">BUYER</span>
                    <span class="info-value" id="sellBuyer">AMERICAS</span>
                </div>
                <div class="info-row">
                    <span class="info-label">DESTINATION</span>
                    <span class="info-value" id="sellDest">New Orleans, USA</span>
                </div>
                <div class="info-row">
                    <span class="info-label">EXCHANGE</span>
                    <span class="info-value" id="sellExchange">COMEX</span>
                </div>
                <div class="info-row">
                    <span class="info-label">REGIONAL PREMIUM</span>
                    <span class="info-value" id="sellPremium">+$50/MT</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Select Inventory</label>
                <select class="form-select" id="sellInventory">
                    <option value="none">-- No inventory available --</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">Tonnage (MT)</label>
                <input type="number" class="form-input" id="sellTonnage" min="10" value="20">
                <div style="font-size: 11px; color: #888; margin-top: 6px;" id="sellRange">Range: 20 - 85 MT</div>
            </div>

            <div class="calc-section">
                <div class="calc-title">Revenue Breakdown (Estimated)</div>
                <div class="calc-row">
                    <span class="calc-label">Base Price (Spot):</span>
                    <span class="calc-value" id="sellBasePrice">$8960/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Regional Premium:</span>
                    <span class="calc-value" id="sellRegionalPremium">+$90/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Sale Price:</span>
                    <span class="calc-value" id="sellPricePerMT">$9050/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Total Revenue:</span>
                    <span class="calc-value" id="sellTotalRevenue">$181,000</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Original Cost:</span>
                    <span class="calc-value" id="sellOriginalCost">$180,780</span>
                </div>
                <div class="calc-row total-row profit-row">
                    <span class="calc-label">Estimated Profit:</span>
                    <span class="calc-value" id="sellNetProfit">+$220</span>
                </div>
                <div class="warning-box">
                    ‚ö†Ô∏è <span id="sellQPWarning">QP settlement in March based on February average</span>
                </div>
            </div>

            <button class="execute-btn sell" id="executeSellBtn" onclick="window.TradePanel.executeSell()">SELL COPPER</button>
        </div>
    </div>

    <!-- Futures Trade Panel (500x600, Draggable) -->
    <div class="trade-panel" id="futuresTradePanel" style="display: none; width: 500px;">
        <div class="trade-panel-header" id="futuresPanelHeader">
            <span class="trade-panel-title" id="futuresPanelTitle">Open Futures Position</span>
            <button class="trade-panel-close" onclick="FuturesWidget.closeTradePanel()">√ó</button>
        </div>
        <div class="trade-panel-body">
            <div class="info-box">
                <div class="info-row">
                    <span class="info-label">EXCHANGE</span>
                    <span class="info-value" id="futuresExchangeDisplay">LME</span>
                </div>
                <div class="info-row">
                    <span class="info-label">CONTRACT</span>
                    <span class="info-value" id="futuresContractDisplay">M+1</span>
                </div>
                <div class="info-row">
                    <span class="info-label">DIRECTION</span>
                    <span class="info-value" id="futuresDirectionDisplay">LONG</span>
                </div>
                <div class="info-row">
                    <span class="info-label">CURRENT PRICE</span>
                    <span class="info-value" id="futuresCurrentPrice">$9,024/MT</span>
                </div>
                <div class="info-row">
                    <span class="info-label">CONTRACT SIZE</span>
                    <span class="info-value" id="futuresContractSize">25 MT/contract</span>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">Number of Contracts</label>
                <input type="number" class="form-input" id="futuresNumContracts" min="1" max="11" value="1" oninput="FuturesWidget.updateTradePanelCalculations()">
                <div style="font-size: 11px; color: #888; margin-top: 6px;">Max contracts: <span id="futuresMaxContracts">11</span> (based on margin limit)</div>
            </div>

            <div class="calc-section">
                <div class="calc-title">Trade Summary</div>
                <div class="calc-row">
                    <span class="calc-label">Contracts:</span>
                    <span class="calc-value" id="futuresCalcContracts">1</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Total Tonnage:</span>
                    <span class="calc-value" id="futuresCalcTonnage">25 MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Entry Price:</span>
                    <span class="calc-value" id="futuresCalcEntryPrice">$9,024/MT</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Initial Margin Required:</span>
                    <span class="calc-value" id="futuresCalcMargin">$9,000</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Opening Fees:</span>
                    <span class="calc-value" id="futuresCalcFees">$25</span>
                </div>
                <div class="calc-row total-row">
                    <span class="calc-label">Total Deducted from Funds:</span>
                    <span class="calc-value" id="futuresCalcTotal">$9,025</span>
                </div>
                <div class="warning-box" style="margin-top: 15px;">
                    üí° <span id="futuresTradeWarning">Margin will be returned when position is closed. P&L settled from margin balance.</span>
                </div>
                <div class="info-box" style="margin-top: 10px; background: rgba(245, 158, 11, 0.1); border-left-color: #f59e0b;">
                    <div style="font-size: 12px; line-height: 1.6;">
                        <strong style="color: #f59e0b;">‚è∞ Expiry:</strong> <span id="futuresExpiryInfo">This M+1 contract expires in 1 turn</span>
                    </div>
                </div>
            </div>

            <button class="execute-btn" id="executeFuturesBtn" onclick="FuturesWidget.executeTradeFromPanel()">OPEN POSITION</button>
        </div>
    </div>

    <!-- Sale Details Modal (for Positions widget) -->
    <div id="saleDetailsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center;">
        <div style="background: var(--bg-secondary); padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; position: relative;">
            <button id="closeSaleDetailsBtn" style="position: absolute; top: 10px; right: 10px; background: none; border: none; font-size: 24px; cursor: pointer; color: var(--text-primary);">√ó</button>
            <h3 style="margin-bottom: 20px; color: var(--text-primary);">Sale Details</h3>
            <div id="saleDetailsContent"></div>
        </div>
    </div>
</body>
</html>
